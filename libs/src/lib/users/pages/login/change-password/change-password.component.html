<div class="surface-100">
  <div class="flex min-h-screen flex-col justify-center px-6 py-7 lg:px-8">

    <div class="mt-14 mx-auto max-w-sm">
      <!-- <div class="w-full max-w-xs mt-4"> wrapper to control width -->
      <p-card class="shadow-lg">
        <ng-template #header class="border-b-2">
          <div class="text-2xl p-3 text-primary-700 flex items-center capitalize">
            <i class="pi pi-key text-xl mr-2"></i>
            Nouveau mot de passe
          </div>
        </ng-template>

        <ng-template #footer>
          <form [formGroup]="changePwForm" (submit)="onSubmit()" class="w-full space-y-4">
            <input type="hidden" formControlName="email">
            <input type="hidden" formControlName="nom">
            <input type="hidden" formControlName="prenom">
            <!-- <div class="field">
              <label for="email" class="capitalize block mb-1">
                <span class="text-red-500 mr-2">*</span>Email
              </label>
              <p-inputgroup>
                <p-inputgroup-addon>
                    <i class="pi pi-at"></i>
                </p-inputgroup-addon>
                <input
                  id="email"
                  readonly
                  [disabled]="true"
                  pInputText
                  placeholder="Email"
                  type="text"
                  formControlName="email"
                 />
              </p-inputgroup>

              @if (email!.errors && email!.errors['email']) {
                  <small class="text-red-500 mr-3">L'email valide est requis</small>
              }
              @if (email?.invalid && (email?.touched || email?.dirty)) {
                  <small class="text-red-500">L'email est requis</small>
              }
            </div> -->
            <div class="field">
              <label for="email" class="capitalize block mb-1">
                <span class="text-red-500 mr-2">*</span>Rédacteur
              </label>
              <p-inputgroup>
                <p-inputgroup-addon>
                    <i class="pi pi-user"></i>
                </p-inputgroup-addon>
                <input
                  id="fullName"
                  readonly
                  [disabled]="true"
                  pInputText
                  placeholder="Nom & Prénom"
                  type="text"
                  formControlName="fullName"
                  style="background-color: #f0f0f0"
                 />
              </p-inputgroup>


              @if (email?.invalid && (fullName?.touched || fullName?.dirty)) {
                  <small class="text-red-500">L'email est requis</small>
              }
            </div>
            <div class="field">
              <label for="password" class="capitalize block mb-1">
                <span class="text-red-500 mr-2">*</span>Mot de passe
              </label>
              <p-inputgroup>
                <p-inputgroup-addon>
                    <i class="pi pi-lock"></i>
                </p-inputgroup-addon>
                <input
                  id="password"
                  pInputText
                  placeholder="Mot de passe"
                  type="password"
                  formControlName="password"
                 />
              </p-inputgroup>
              <small>8 caractères minimum · 1 majuscule · 1 chiffre · 1 caractère spécial</small>
              @if (password?.invalid && (password?.touched || password?.dirty)) {
                <small class="text-red-500">Le mot de passe est requis</small>
              }
            </div>
            <div class="field">
              <label for="confirmPassword" class="capitalize block mb-1">
                <span class="text-red-500 mr-2">*</span>confirmation
              </label>
              <p-inputgroup>
                <p-inputgroup-addon>
                    <i class="pi pi-lock"></i>
                </p-inputgroup-addon>
                <input
                  id="confirmPassword"
                  pInputText
                  placeholder="Confirmation"
                  type="password"
                  formControlName="confirmPassword"
                 />
              </p-inputgroup>
              @if (confirmPassword?.invalid && (confirmPassword?.touched || password?.dirty)) {
                <small class="text-red-500">Le mot de passe est requis</small>
              }
            </div>

            <button
              pButton
              type="submit"
              icon="pi pi-sign-in"
              [raised]="true"
              class="w-full p-button-primary capitalize"
               [disabled]="!changePwForm.valid"
            >
              Connexion
            </button>

          </form>
        </ng-template>
      </p-card>
      <p class="mx-auto text-green-700 p-4">© 2005 - {{ currentYear }}, made with <i class="pi pi-heart-fill" ></i> by Camer Group</p>
    <!-- </div> -->

    </div>
  </div>


</div>

